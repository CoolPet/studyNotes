<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>2.函数name问题</title>
</head>
<body>
  <script>
    // 普通函数
    function fn(){}
    console.log(fn.name)   // fn

    // 匿名函数
    console.log((function(){}).name)    // ""

    // 特殊情况
    // 1.通过 bind 方法得到一个新的函数,函数的名字是 "bound 原来的名字"
    let fn1 = fn.bind(null)
    console.log(fn1.name)   // bound fn

    // 2.通过构造函数方式创建一个函数,函数的名字都叫做  "anonymous"
    // new Function("形参", "函数体")
    // new Function("函数体")
    // function fn(形参){函数体}
    let fn2 = new Function("x, y", "console.log(x, y);return x + y")    // 10 100
    console.log(fn2(10, 100))    // 110
    console.log(fn2.name)   // anonymous

    // 面试题:将 str 的 JSON 字符串变为一个 JSON 对象
    let str = "[{'name': 'Jack'}, {'age': 100}]"
    let arr = (new Function("return" + str))()
    console.log(arr)    // [{'name': 'Jack'}, {'age': 100}]
  </script>
</body>
</html>